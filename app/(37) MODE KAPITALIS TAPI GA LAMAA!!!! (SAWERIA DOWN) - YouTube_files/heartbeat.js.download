(function(g){var window=this;'use strict';var sX1=function(p,C){if(!Number.isFinite(p))return String(p);p=String(p);var V=p.indexOf(".");V===-1&&(V=p.length);var N=p[0]==="-"?"-":"";N&&(p=p.substring(1));return N+(0,g.GVc)("0",Math.max(0,C-V))+p},at0=function(){return{L:"svg",
X:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},j:[{L:"path",X:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},ENP=function(){return{L:"svg",
X:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},j:[{L:"path",X:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},tEP=function(p){typeof p==="number"?(this.date=ltp(p,0,1),v9(this,1)):g.Pv(p)?(this.date=ltp(p.getFullYear(),p.getMonth(),p.getDate()),v9(this,p.getDate())):(this.date=new Date(g.QL()),p=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),v9(this,p))},ltp=function(p,C,V){C=new Date(p,C,V);
p>=0&&p<100&&C.setFullYear(C.getFullYear()-1900);return C},v9=function(p,C){p.getDate()!=C&&p.date.setUTCHours(p.date.getUTCHours()+(p.getDate()<C?1:-1))},Fb=function(p,C){g.GC.call(this,p,{L:"div",
B:"ytp-reminder-menu",X:{role:"menu",tabindex:"-1"},j:[{L:"div",B:"ytp-reminder-menu-contents",j:[{L:"div",B:"ytp-reminder-menu-items"}]}]},100,!0);this.T=C;this.V=[];this.menuPopupRenderer=void 0;this.items=this.rV("ytp-reminder-menu-items");this.hide()},c$0=function(p){return(p.menuPopupRenderer&&p.menuPopupRenderer.items||[]).reduce(function(C,V){V&&V.menuServiceItemRenderer&&C.push(V.menuServiceItemRenderer);
return C},[])},SN=function(p){g.L.call(this,{L:"div",
j:[{L:"button",i_:["ytp-offline-slate-button","ytp-button"],j:[{L:"div",B:"ytp-offline-slate-button-icon",Ak:"{{icon}}"},{L:"div",B:"ytp-offline-slate-button-text",Ak:"{{text}}"}]}]});this.N=p;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.C=void 0;this.S=this.T=null;(this.W=this.rV("ytp-offline-slate-button"))&&this.U(this.W,"click",this.D);this.hide()},ME1=function(p,C,V){!p.toggleButtonRenderer&&C&&C.toggleButtonRenderer?p.toggleButtonRenderer=C.toggleButtonRenderer:
C&&C.toggleButtonRenderer||(p.toggleButtonRenderer=null);
!p.upcomingEventReminderButtonRenderer&&V&&g.n(V,TUy)?p.upcomingEventReminderButtonRenderer=g.n(V,TUy):V&&g.n(V,TUy)||(p.upcomingEventReminderButtonRenderer=null);KC(p)},KC=function(p){if(p.toggleButtonRenderer){var C=p.toggleButtonRenderer;
if(C.isToggled){var V=C.toggledText?g.uq(C.toggledText):"";p.update({text:V,icon:J$y(C.toggledIcon)})}else V=C.defaultText?g.uq(C.defaultText):"",p.update({text:V,icon:J$y(C.defaultIcon)});p.show()}else p.upcomingEventReminderButtonRenderer?(C=mj0(p))?(V=C.text?g.uq(C.text):"",p.update({text:V,icon:J$y(C.icon)}),p.show()):p.hide():p.hide()},F0E=function(p,C,V){p.S||(p.S=new g.sI(p.N.K().Uv));
var N={context:g.T1(p.S.config_||g.cC())};g.bz()&&(N.context.clientScreenNonce=g.bz());N.params=V;g.ah(p.S,C,N,{timeout:5E3,onSuccess:function(){p.upcomingEventReminderButtonRenderer&&p.C&&(p.upcomingEventReminderButtonRenderer.currentState=p.C,p.C=void 0)},
onError:function(){vN0(p)},
onTimeout:function(){vN0(p)}})},vN0=function(p){p.toggleButtonRenderer?(p.toggleButtonRenderer.isToggled=!p.toggleButtonRenderer.isToggled,KC(p)):p.upcomingEventReminderButtonRenderer&&(p.C=void 0,KC(p))},J$y=function(p){if(!p)return null;
switch(p.iconType){case "NOTIFICATIONS":return at0();case "NOTIFICATIONS_NONE":return ENP();case "NOTIFICATIONS_ACTIVE":return g.bq();default:return null}},mj0=function(p){if(!p.upcomingEventReminderButtonRenderer)return null;
var C=p.C||p.upcomingEventReminderButtonRenderer.currentState;p=g.F(p.upcomingEventReminderButtonRenderer.states||[]);for(var V=p.next();!V.done;V=p.next())if((V=g.n(V.value,S$G))&&V.state===C&&V.button&&g.n(V.button,g.z$))return g.n(V.button,g.z$);return null},K0Y=function(p){g.L.call(this,{L:"div",
B:"ytp-offline-slate",j:[{L:"div",B:"ytp-offline-slate-background"},{L:"div",B:"ytp-offline-slate-bar",j:[{L:"span",B:"ytp-offline-slate-icon",j:[{L:"svg",X:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},j:[{L:"path",X:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{L:"circle",X:{cx:"12",cy:"12",r:"3"}}]}]},{L:"span",B:"ytp-offline-slate-messages",j:[{L:"div",B:"ytp-offline-slate-main-text",X:{"aria-label":"{{label}}"},Ak:"{{mainText}}"},{L:"div",B:"ytp-offline-slate-subtitle-text",Ak:"{{subtitleText}}"}]},{L:"span",B:"ytp-offline-slate-buttons"}]},{L:"button",i_:["ytp-offline-slate-close-button","ytp-button"],j:[g.Oy()]},{L:"button",i_:["ytp-offline-slate-open-button","ytp-button"],j:[g.fq()]}]});var C=this;this.api=p;this.T=this.C=null;this.background=this.rV("ytp-offline-slate-background");
this.V=this.rV("ytp-offline-slate-bar");this.W=new g.N8(function(){g.Ed(C.V,"ytp-offline-slate-bar-fade")},15E3);
this.D=!1;this.S=new g.N8(function(){g.Ed(C.element,"ytp-offline-slate-collapsed")},15E3);
g.R(this,this.S);g.R(this,this.W);this.countdownTimer=new g.N8(this.Zn,1E3,this);this.U(p,"presentingplayerstatechange",this.kX);this.U(p,"livestatedata",this.Pr);this.U(this.rV("ytp-offline-slate-close-button"),"click",function(){g.Ed(C.element,"ytp-offline-slate-collapsed")});
this.U(this.rV("ytp-offline-slate-open-button"),"click",function(){g.tk(C.element,"ytp-offline-slate-collapsed")});
this.hide();p=this.getVideoData();p.getPlayerResponse()&&(p=p.getPlayerResponse().playabilityStatus)&&this.Pr(p);p=this.api.getPresentingPlayerType()===8&&!this.getVideoData().Uh;var V=this.api.getPresentingPlayerType()===8;g.Tz(this.element,"ytp-offline-slate-premiere-trailer",p);g.Tz(this.element,"ytp-offline-slate-hide-background",V)},Dj2=function(p,C,V){if(C){var N=C.subtitleText!=null?g.uq(C.subtitleText):"";
V=V?V:C.mainText!=null?g.uq(C.mainText):"";var H,X,d,a;C=(a=(H=C.mainText)==null?void 0:(X=H.accessibility)==null?void 0:(d=X.accessibilityData)==null?void 0:d.label)!=null?a:V;p.update({mainText:V,subtitleText:N,label:C});g.Tz(p.element,"ytp-offline-slate-single-text-line",!N);g.Tz(p.V,"ytp-offline-slate-bar-hidden",!V&&!N)}},Dw=function(p,C){var V=(0,g.Ip)();
this.module="heartbeat";this.trigger=p;this.T=C;this.V=V},y$8=function(p){g.IT.call(this,p);
var C=this;this.D=!1;this.J=0;this.W=!1;this.C=new g.N8(function(){ur8(C)},0);
this.T=this.heartbeatParams=null;this.S=!1;this.Y=new g.oN(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.a$=new g.sI(void 0);this.attestationResponse=Promise.resolve(void 0);this.Z=Promise.resolve(void 0);this.utcOffsetMinutes=-(new tEP).getTimezoneOffset();this.V=new g.Rr(this);g.R(this,this.C);g.R(this,this.V);ZNy(this);Uj1(this);this.V.U(p,"heartbeatparams",this.i7);this.V.U(p,"presentingplayerstatechange",this.W7);this.V.U(p,"videoplayerreset",this.LH);this.V.U(p,g.Ez("heartbeat"),
this.onCueRangeEnter);this.S&&this.T&&ft5(this,void 0,this.T);var V=new g.sz(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),N=new g.sz(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});p.d7([V,N]);ONy(this)},ONy=function(p){var C=p.getVideoData();
!C.G("use_rta_for_player")&&C.JX&&(C=C.botguardData)&&g.x1(C,p.player.K())},q$2=function(p){var C,V;
return g.I(function(N){if(N.C==1)return g.y(N,g.fhv(),2);if(!N.T)return p.sequenceNumber>=3?N.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):N.return(void 0);C=p.getVideoData();V={};return N.return(g.UeL((V.cpn=C.clientPlaybackNonce,V.encryptedVideoId=C.videoId||"",V),1500))})},ZNy=function(p){var C=p.getVideoData();
if(C.JX)if(C.G("use_rta_for_player"))p.attestationResponse=q$2(p);else if(C=new g.Fte(C),g.bt.isInitialized()||p.sequenceNumber>=3){var V=Promise,N=V.resolve,H=null;if(C.videoData.Mr){var X=g.Sry(C);if(X){H={};var d={};X=X.split("&");X=g.F(X);for(var a=X.next();!a.done;a=X.next())a=a.value.split("="),a.length===2&&(d[a[0]]=a[1]);d.r1a&&(H.webResponse=d.r1a);d.r1c&&(H.error=Itc[Number(d.r1c)]);H.challenge=C.videoData.Mr}}p.attestationResponse=N.call(V,H||void 0)}},bNy=function(p){var C=p.getVideoData();
if(!g.Jl(p.getVideoData())||C.oJ)return!1;if(C.W){p=C.W.flavor==="playready"&&C.G("html5_innertube_heartbeats_for_playready");var V=C.W.flavor==="widevine"&&C.G("html5_innertube_heartbeats_for_widevine");C=g.o5(C.W)&&C.G("html5_innertube_heartbeats_for_fairplay");return!(p||V||C)}return!0},A$c=function(p){if(bNy(p))return!!p.heartbeatParams;
var C=p.getVideoData();return!g.Jl(p.getVideoData())||C.Kq||C.lP?!!C.heartbeatToken:!1},uA=function(p,C){if(!p.C.isActive()&&p.D){var V=p.getVideoData();
if(A$c(p)||V.isLivePlayback){if(C===void 0)if(p.W)if(p.S)C=7500;else{var N;C=((N=p.heartbeatParams)==null?0:N.interval)?p.heartbeatParams.interval*1E3:p.getVideoData().B5||6E4}else C=1E3;p.C.start(C)}}},Y$F=function(p,C,V){C.oi&&(V=g.GD(V,{internalipoverride:C.oi}));
var N={cpn:C.clientPlaybackNonce};C.contextParams&&(N.context_params=C.contextParams);C.X$&&(N.kpt=C.X$);V=g.GD(V,N);g.qU(V,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(H){if(!p.C.isActive()&&Zw(p)){p.Y.reset();p.sequenceNumber++;H=H.responseText;var X=oNc(H);if(X){p.player.Jk("onHeartbeat",X);var d=X.status==="ok"?X.stop_heartbeat?2:0:X.status==="stop"?1:X.status==="live_stream_offline"?0:-1}else d=(d=H.match(kqE))?d[1]==="0"?0:1:-1;xj8(p,void 0,X,H,d)}},
onError:function(H){Zw(p)&&UP(p,!0,"net-"+H.status)},
onTimeout:function(){Zw(p)&&UP(p,!0,"timeout")},
withCredentials:!0})},ur8=function(p){var C,V;
g.I(function(N){C=p.player.K();V=p.getVideoData();if(!Zw(p))return N.return();if(bNy(p))return zZ8(p,C,V),N.EY(0);ZNy(p);return g.y(N,RZG(p,C,V),0)})},zZ8=function(p,C,V){var N;
if((N=p.heartbeatParams)!=null&&N.url){var H=g.GD(p.heartbeatParams.url,{request_id:g.ApL()});V.b_&&(H=g.GD(H,{vvt:V.b_}),V.mdxEnvironment&&(H=g.GD(H,{mdx_environment:V.mdxEnvironment})));g.pk(C,V.oauthToken).then(function(X){X&&(H=g.GD(H,{access_token:X}));Y$F(p,V,H)})}},Zw=function(p){var C=p.getVideoData();
return p.player.getPresentingPlayerType()===3||g.r(p.player.getPlayerStateObject(p.getPlayerType()),4)?!1:A$c(p)||C.isLivePlayback?!0:(fC(p),!1)},RZG=function(p,C,V){var N,H,X,d,a,E,l,t,c,T,M,J,S,D,Z,f,q,A,z,Q;
return g.I(function(P){if(P.C==1)return N="player/heartbeat",X={videoId:V.videoId,sequenceNumber:p.sequenceNumber,heartbeatServerData:(H=p.b_)!=null?H:V.heartbeatServerData},p.Z=p.attestationResponse,V.JX?g.y(P,p.Z,3):P.EY(2);P.C!=2&&(X.attestationResponse=P.T);d=g.TC(V);E=(a=d.client)!=null?a:{};E.utcOffsetMinutes=p.utcOffsetMinutes;X.context=d;X.cpn=V.clientPlaybackNonce;if(l=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)E.timeZone=l;t={heartbeatChecks:[]};
if(c=V.getPlayerResponse())V.heartbeatToken&&(X.heartbeatToken=V.heartbeatToken),(T=c.playabilityStatus)&&(M=T.liveStreamability)&&M.liveStreamabilityRenderer&&t.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");V.heartbeatToken&&t.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.qz(C)&&(t.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),J=nN2(p),S={},J!==null&&(S.clientPlayerPositionUtcMillis=J),Z=(D=p.player.Tk())==null?void 0:g.wM(D),q=((f=Z)==null?void 0:f.freePreviewWatchedDuration)||
0,q>0&&(S.freePreviewWatchedDuration={seconds:""+q}),t.unpluggedParams=S);X.heartbeatRequestParams=t;V.isLivePlayback?(A=nN2(p),A!==null&&(X.playbackState||(X.playbackState={}),X.playbackState.playbackPosition={utcTimeMillis:A})):C.G("enable_heartbeat_vod_playback_position")&&(z=eZ0(p),z!==null&&(X.playbackState||(X.playbackState={}),X.playbackState.playbackPosition={streamTimeMillis:z}));p.player.publish("heartbeatRequest",X);Q={timeout:3E4,onSuccess:function(VL){if(!p.C.isActive()&&Zw(p)){var au=
p.getVideoData(),W=au.JX&&p.Z==null,e;au.JX=!((e=VL.heartbeatAttestationConfig)==null||!e.requiresAttestation)||W;W=VL.playabilityStatus;e=JSON.stringify(W)||"{}";VL.authenticationMismatch&&p.player.k_("authshear",{});var B=-1;var v=VL.playabilityStatus;v&&(p.player.Jk("onHeartbeat",v),v.status==="OK"?B=VL.stopHeartbeat?2:0:v.status==="UNPLAYABLE"?B=1:v.status==="LIVE_STREAM_OFFLINE"&&(B=0));p.sequenceNumber&&B===-1||p.Y.reset();p.sequenceNumber++;VL.heartbeatServerData&&(p.b_=VL.heartbeatServerData);
au.d1=VL;(v=VL.playerCueRangeSet)&&g.wP(au,v);VL.playerCueRanges&&VL.playerCueRanges.length>0&&(au.cueRanges=VL.playerCueRanges);var w,C0;((w=VL.progressBarConfig)==null?0:w.progressBarStartPosition)&&((C0=VL.progressBarConfig)==null?0:C0.progressBarEndPosition)&&(au.progressBarStartPosition=VL.progressBarConfig.progressBarStartPosition,au.progressBarEndPosition=VL.progressBarConfig.progressBarEndPosition);au.compositeLiveIngestionOffsetToken=VL.compositeLiveIngestionOffsetToken;VL.compositeLiveStatusToken!==
au.compositeLiveStatusToken&&(au.compositeLiveStatusToken=VL.compositeLiveStatusToken);au.publish("dataupdated");xj8(p,VL,W,e,B)}},
onError:function(VL){Zw(p)&&UP(p,!0,"net-"+VL.status)},
onTimeout:function(){Zw(p)&&UP(p,!0,"timeout")}};
g.pk(C,g.XE(V)).then(function(VL){VL&&(Q.yb="Bearer "+VL);g.ah(p.a$,N,X,Q)});
g.JQ(P)})},xj8=function(p,C,V,N,H){H===-1?(V="decode "+g.vy(N,3),UP(p,!1,V)):H===2?(fC(p),p.W=!0):(p.J=0,p.C.stop(),H===1?(p.W=!1,V&&V.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&p.player.J9(!0),H="pe."+(V==null?void 0:V.errorCode)+";ps."+(V==null?void 0:V.status),p.player.a_("heartbeat.stop",2,p.FF(N),H),g.t1("heartbeatActionPlayerHalted",P3v(V)),(C==null?0:C.videoTransitionEndpoint)&&V&&(C=C.videoTransitionEndpoint,(N=g.n(C,g.VB))&&wi2(p,N,V,{itct:C==null?void 0:C.clickTrackingParams}))):(p.W=
!0,N=0,p.S&&V&&(N=ft5(p,C,V),p.player.publish("livestatedata",V)),N?uA(p,N):uA(p)))},ft5=function(p,C,V){var N=V.liveStreamability&&V.liveStreamability.liveStreamabilityRenderer,H=!(!N||!(N.switchStreamsImmediately||N.transitionTiming&&N.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
C=$j5(p,C,N);var X=p.getVideoData(),d=p.player.getPlayerStateObject(p.getPlayerType()),a=d.isPlaying()&&!g.ud(X)&&!p.player.isAtLiveHead(p.getPlayerType());if(X.K().Gk()){var E,l=((E=p.player.Nt())==null?void 0:E.X0())||{};l.status=V.status||"";l.dvr=""+ +a;l["switch"]=""+ +H;l.ended=""+ +!(!N||!N.displayEndscreen);p.player.k_("heartbeat",l)}if(a&&!H)return C;H=N&&N.streamTransitionEndpoint&&g.n(N.streamTransitionEndpoint,g.VB);if((N&&N.transitionTiming)==="STREAM_TRANSITION_TIMING_AT_STREAM_END")p.getVideoData().transitionEndpointAtEndOfStream=
H;else if(H&&wi2(p,H,V))return C;if(V.status.toUpperCase()==="OK"){H=N&&N.broadcastId;E=p.T&&p.T.liveStreamability&&p.T.liveStreamability.liveStreamabilityRenderer&&p.T.liveStreamability.liveStreamabilityRenderer.broadcastId;a=H!==E&&H!=null;if(!g.SK(X)||a){var t={video_id:X.videoId};X.ub&&(t.is_live_destination="1");p.player.G("web_player_heartbeat_request_watch_next")||(t.disable_watch_next=!0,t.raw_watch_next_response=X.getWatchNextResponse());t.autonav_state=X.autonavState;t.oauth_token=X.oauthToken;
t.force_gvi=X.Q1;t.mm=X.mm;X.Y&&(t.vss_credentials_token=X.Y,t.vss_credentials_token_type=X.B_);X.b_&&(t.vvt=X.b_);N=void 0;g.SK(X)?a&&(N=new Dw("broadcastIdChanged",E+","+H),p.VK("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",V)):(H&&(N=new Dw("formatsReceived",""+H)),p.VK("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",V));p.player.loadVideoByPlayerVars(t,void 0,void 0,void 0,N);return C}p.player.hp("heartbeat",
p.getPlayerType())}N&&N.displayEndscreen&&(p.offlineSlate?(p=p.offlineSlate,p.D=!0,p.C4&&p.api.K6()):d.isBuffering()&&(X=((t=p.player.Nt())==null?void 0:t.X0())||{},p.player.k_("hbse",X,!0),p.player.K6(),p.player.Jk("onLiveMediaEnded",V)));return C},$j5=function(p,C,V){return p.player.G("web_player_use_heartbeat_poll_delay_ms")&&(p=Number(C==null?void 0:C.pollDelayMs))?p:(V=Number(V==null?void 0:V.pollDelayMs))?V:0},UP=function(p,C,V){var N=p.player.K();
if(!p.C.isActive()){p.C.stop();p.J++;var H=C?"heartbeat.net":"heartbeat.servererror";var X=p.getVideoData();if(X.Q7||C&&!g.Jl(p.getVideoData())&&!A$c(p)&&X.isLivePlayback)X=!1;else{var d,a;((a=p.heartbeatParams)==null?0:a.retries)?d=p.heartbeatParams.retries:d=X.Jl||5;X=p.J>=d}X?(g.t1("heartbeatActionPlayerHalted",C?{enforcedPolicyToHaltOnNetworkFailure:!0}:P3v()),(C=p.getVideoData())&&C.isLivePlayback?p.player.a_(H,1,"Video playback interrupted. Please try again.",V):p.player.a_(H,1,"Sorry, there was an error licensing this video.",
V)):(N.G("html5_report_non_fatal_heartbeat_error")&&p.player.A2(H,{msg:V}),uA(p,p.Y.getValue()),g.kq(p.Y))}},P3v=function(p){var C={enforcedPolicyToHaltOnNetworkFailure:!1};
p&&(C.serializedServerContext=p.additionalLoggingData);return C},fC=function(p){p.J=0;
p.C.stop();p.W=!1;p.sequenceNumber=0},Uj1=function(p){var C=p.getVideoData(),V=p.player.K();
if(C.isLivePlayback)if(g.GF(V.W)){p.S=!0;p.D=!0;if(!g.bH(V)||g.qz(V))p.offlineSlate=new K0Y(p.player),g.R(p,p.offlineSlate),g.LT(p.player,p.offlineSlate.element,4);(C=C.getPlayerResponse())&&C.playabilityStatus&&(p.T=C.playabilityStatus);var N;((N=p.T)==null?void 0:N.status)!=="UNPLAYABLE"&&(p.T?(N=$j5(p,void 0,p.T.liveStreamability&&p.T.liveStreamability.liveStreamabilityRenderer))?uA(p,N):uA(p,7500):uA(p,1E3))}else p.player.a_("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.W5(C.Vn,"heartbeat")&&p.player.hp("heartbeat",p.getPlayerType())},wi2=function(p,C,V,N){var H=C&&C.videoId;
return H?(p.player.Ce(H,Object.assign({},{autonav:"1"},N||{}),void 0,!0,!0,C,g.XE(p.getVideoData())),p.VK("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",V),!0):!1},nN2=function(p){return(p=p.player.getProgressState(p.getPlayerType()).ingestionTime)&&isFinite(p)?""+Math.floor(p*1E3):null},eZ0=function(p){return(p=p.player.getCurrentTime(p.getPlayerType()))&&isFinite(p)?""+Math.floor(p*1E3):null},oNc=function(p){try{var C=JSON.parse(p);
return C!=null?C:void 0}catch(V){}},L0f={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},gNY=L0f;gNY=L0f;
var Itc=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],W0v={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.h=tEP.prototype;g.h.VY=gNY.FIRSTDAYOFWEEK;g.h.S$=gNY.FIRSTWEEKCUTOFFDAY;
g.h.clone=function(){var p=new tEP(this.date);p.VY=this.VY;p.S$=this.S$;return p};
g.h.getFullYear=function(){return this.date.getFullYear()};
g.h.getYear=function(){return this.getFullYear()};
g.h.getMonth=function(){return this.date.getMonth()};
g.h.getDate=function(){return this.date.getDate()};
g.h.getTime=function(){return this.date.getTime()};
g.h.getDay=function(){return this.date.getDay()};
g.h.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.h.getUTCMonth=function(){return this.date.getUTCMonth()};
g.h.getUTCDate=function(){return this.date.getUTCDate()};
g.h.getUTCDay=function(){return this.date.getDay()};
g.h.getUTCHours=function(){return this.date.getUTCHours()};
g.h.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.h.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.h.set=function(p){this.date=new Date(p.getFullYear(),p.getMonth(),p.getDate())};
g.h.setFullYear=function(p){this.date.setFullYear(p)};
g.h.setYear=function(p){this.setFullYear(p)};
g.h.setMonth=function(p){this.date.setMonth(p)};
g.h.setDate=function(p){this.date.setDate(p)};
g.h.setTime=function(p){this.date.setTime(p)};
g.h.setUTCFullYear=function(p){this.date.setUTCFullYear(p)};
g.h.setUTCMonth=function(p){this.date.setUTCMonth(p)};
g.h.setUTCDate=function(p){this.date.setUTCDate(p)};
g.h.add=function(p){if(p.years||p.months){var C=this.getMonth()+p.months+p.years*12,V=this.getYear()+Math.floor(C/12);C%=12;C<0&&(C+=12);a:{switch(C){case 1:var N=V%4!=0||V%100==0&&V%400!=0?28:29;break a;case 5:case 8:case 10:case 3:N=30;break a}N=31}N=Math.min(N,this.getDate());this.setDate(1);this.setFullYear(V);this.setMonth(C);this.setDate(N)}p.days&&(V=this.getYear(),C=V>=0&&V<=99?-1900:0,p=new Date((new Date(V,this.getMonth(),this.getDate(),12)).getTime()+p.days*864E5),this.setDate(1),this.setFullYear(p.getFullYear()+
C),this.setMonth(p.getMonth()),this.setDate(p.getDate()),v9(this,p.getDate()))};
g.h.sE=function(p){return!(!p||this.getYear()!=p.getYear()||this.getMonth()!=p.getMonth()||this.getDate()!=p.getDate())};
g.h.toString=function(){var p=this.getFullYear(),C=p<0?"-":p>=1E4?"+":"";return[C+sX1(Math.abs(p),C?6:4),sX1(this.getMonth()+1,2),sX1(this.getDate(),2)].join("")+""};
g.h.valueOf=function(){return this.date.valueOf()};var QXr=new g.I6("addUpcomingEventReminderEndpoint");var r$P=new g.I6("removeUpcomingEventReminderEndpoint");var BUY=new g.I6("updateUpcomingEventReminderButtonStateCommand");var TUy=new g.I6("upcomingEventReminderButtonRenderer"),S$G=new g.I6("upcomingEventReminderButtonStateRenderer");g.m(Fb,g.GC);
Fb.prototype.updateMenuItems=function(){var p=this,C=c$0(this),V=0;V=0;for(var N={};V<C.length;N={Kz:void 0},V++){var H=this.V[V];H||(H=new g.L({L:"div",B:"ytp-reminder-menu-item",X:{role:"menuitem",tabindex:"0"},j:[{L:"div",B:"ytp-reminder-menu-item-icon",Ak:"{{icon}}"},{L:"div",B:"ytp-reminder-menu-item-label",Ak:"{{text}}"}]}),N.Kz=V,H.listen("click",function(d){return function(){var a=d.Kz;p.f4();a=c$0(p)[a];p.publish("reminderMenuItemClicked",a.serviceEndpoint||a.command)}}(N)),H.u_(this.items),
this.V[V]=H);
var X=C[V];N=null;switch(X.icon&&X.icon.iconType){case "NOTIFICATIONS":N=at0();break;case "NOTIFICATIONS_NONE":N=ENP();break;case "NOTIFICATIONS_ACTIVE":N=g.bq()}X=X.text?g.uq(X.text):"";H.update({icon:N,text:X})}for(;V<this.V.length;)this.V.pop().dispose();V===0?this.f4():this.er(this.T)};
Fb.prototype.hide=function(){this.T&&this.T.removeAttribute("aria-haspopup");g.GC.prototype.hide.call(this)};
Fb.prototype.show=function(){this.T&&this.T.setAttribute("aria-haspopup","true");g.GC.prototype.show.call(this)};
Fb.prototype.CS=function(){g.s1(this.V);g.GC.prototype.CS.call(this)};g.m(SN,g.L);
SN.prototype.D=function(){if(this.toggleButtonRenderer){var p=this.toggleButtonRenderer;p.isToggled?this.V(p.toggledServiceEndpoint):this.V(p.defaultServiceEndpoint);p.isToggled=!p.isToggled;KC(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.T&&this.T.C4)this.T.f4();else{var C=mj0(this);C&&this.V(C.serviceEndpoint||C.command);C=((p=g.n(C==null?void 0:C.command,g.Uu))==null?void 0:p.commands)||[];a:{p=g.F(C);for(var V=p.next();!V.done;V=p.next()){var N=C=void 0;if(V=(C=g.n(V.value,g.tkv))==
null?void 0:(N=C.popup)==null?void 0:N.menuPopupRenderer){p=V;break a}}p=void 0}this.T||(this.T=new Fb(this.N,this.W),this.T.u_(this.element),g.R(this,this.T),this.T.subscribe("reminderMenuItemClicked",this.V,this));C=this.T;C.menuPopupRenderer=p;C.updateMenuItems()}};
SN.prototype.V=function(p){var C=g.n(p,QXr),V=g.n(p,r$P);if(p&&(C||V)){if(C){var N=C;var H="notification/add_upcoming_event_reminder"}else V&&(N=V,H="notification/remove_upcoming_event_reminder");if(H&&N&&N.params)for(F0E(this,H,N.params),p=g.F(N.commands||[]),C=p.next();!C.done;C=p.next())if((C=C.value)&&g.n(C,BUY)){this.C=g.n(C,BUY).state;KC(this);break}}};g.m(K0Y,g.L);g.h=K0Y.prototype;g.h.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.h.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.h.Pr=function(p){var C,V,N=p==null?void 0:(C=p.liveStreamability)==null?void 0:(V=C.liveStreamabilityRenderer)==null?void 0:V.offlineSlate;if(N){this.C=p;C=N.liveStreamOfflineSlateRenderer;C.canShowCountdown?this.Zn():Dj2(this,C);var H,X,d,a;if(V=p==null?void 0:(H=p.liveStreamability)==null?void 0:(X=H.liveStreamabilityRenderer)==null?void 0:(d=X.offlineSlate)==null?void 0:(a=d.liveStreamOfflineSlateRenderer)==null?void 0:a.thumbnail){H=0;X=null;d=V.thumbnails;for(a=0;a<d.length;a++)d[a].width>
H&&(H=d[a].width||0,X=d[a].url);X&&(this.background.style.backgroundImage="url("+X+")")}else this.background.style.backgroundImage="";C.actionButtons||C.reminderButton?(this.T||(this.T=new SN(this.api),this.T.u_(this.rV("ytp-offline-slate-buttons")),g.R(this,this.T)),ME1(this.T,C.actionButtons&&C.actionButtons[0],C.reminderButton)):this.T&&ME1(this.T,null,null);this.C=p}else this.C=null;this.kX()};
g.h.kX=function(p){if(this.api.getPresentingPlayerType()===8)var C=!0;else{var V=this.api.getPlayerStateObject(),N=this.getVideoData();C=N.isLivePlayback&&(V.isBuffering()||g.r(V,2)||g.r(V,64));var H=N.autonavState===2&&g.r(V,2);V=V.isPlaying()&&!g.ud(N)&&!this.api.isAtLiveHead(void 0,!0);C=C&&!V&&!H}C&&this.C?this.C4?(p==null?0:g.u$(p,2))&&!this.getVideoData().Uh&&(g.tk(this.element,"ytp-offline-slate-collapsed"),this.S.stop(),g.tk(this.V,"ytp-offline-slate-bar-fade"),this.W.start()):(this.show(),
this.S.start(),this.api.publish("offlineslatestatechange"),this.D&&this.api.K6()):this.C4&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.h.Zn=function(){var p,C,V,N,H=(p=this.C)==null?void 0:(C=p.liveStreamability)==null?void 0:(V=C.liveStreamabilityRenderer)==null?void 0:(N=V.offlineSlate)==null?void 0:N.liveStreamOfflineSlateRenderer;H&&(p=Math.floor(g.QL()/1E3),C=H.canShowCountdown&&Number(H.scheduledStartTime),!C||C<=p?(Dj2(this,H),this.countdownTimer.stop()):(Dj2(this,H,g.A7(C-p)),g.HF(this.countdownTimer)))};
g.h.CS=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.L.prototype.CS.call(this)};Dw.prototype.C=function(p){return this.trigger&&p.trigger?this.module===p.module&&this.trigger===p.trigger&&this.T===p.T:!1};
Dw.prototype.isExpired=function(){return(0,g.Ip)()-this.V>6E4};
Dw.prototype.toString=function(){return this.module+":"+this.trigger+":"+this.T};g.m(y$8,g.IT);g.h=y$8.prototype;g.h.CS=function(){fC(this);this.player.qt("heartbeat");g.IT.prototype.CS.call(this)};
g.h.onCueRangeEnter=function(){this.D=!0;uA(this,2E3)};
g.h.i7=function(p){this.heartbeatParams=p;uA(this,2E3)};
g.h.W7=function(p){var C;this.player.getPresentingPlayerType()!==8&&((C=this.T)==null?void 0:C.status)!=="UNPLAYABLE"&&(g.r(p.state,2)||g.r(p.state,64)?(fC(this),this.S&&(this.D=!0,uA(this,1E3))):(g.r(p.state,1)||g.r(p.state,8))&&uA(this,2E3))};
g.h.LH=function(){this.player.getPresentingPlayerType()!==3&&uA(this,2E3)};
g.h.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.h.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.h.P_=function(p){switch(p){case 4:case 3:return!1}return!0};
g.h.VK=function(p,C,V){p={trigger:p,reason:C};V&&(p.serializedServerContext=V.additionalLoggingData);g.t1("heartbeatActionPlayerTransitioned",p)};
g.h.FF=function(p){var C="LICENSE",V=oNc(p);if(V)return V.reason||g.CZ[C]||"";if(p=p.match(kqE))if(p=Number(p[1]))C=(C=W0v[p.toString()])?C:"LICENSE";return g.CZ[C]||""};
g.h.Db=function(){return!!this.offlineSlate&&this.offlineSlate.C4};
var kqE=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.qA("heartbeat",y$8);})(_yt_player);
